## 第四章容斥原理
### 4.1引论
证明方法:以此假设x是否具有各种性质,然后对等式两边分别计算贡献,如对于所有情况等式两边贡献相同则证明,等式成立(本章主要证明方法)
### 4.2 容斥原理
#### 定理4.2.1
设$A_i$为具有性质$P_i$的元素构成的集合,$\overline{A_i}$表示不具有$P_i$性质的集合,$S$为全集,则有下式:
$$
|\overline{A_1}\cap\overline{A_1}\cap...\cap\overline{A_m}|=|S|-\sum|A_i|+\sum|A_i\cap A_j|-...+(-1)^m|A1\cap A_2\cap ...\cap A_m|
$$ 
#### 图节点个数与完全子图的关系
若图G含有n个结点,且不含完全$k(k\geq2)$,则其顶点次数d(x)满足下面不等式:
$$
min(d(x))\leq \lfloor \frac{(k-2)n}{k-1} \rfloor
$$
证明:反证,从完全1子图,往完全k子图进行构造,反证假设记$\lfloor \frac{(k-2)n}{k-1} \rfloor$为p,假设对于每个顶点其最小度数为p+1.
设:
$$
(k-2)n = p(k-1)+r (0\leq r\leq k+2)
$$
令集合$|A_i|$表示与点i相邻的结点集合,首先对于单个集合$A_1$,其$|A_1|\geq p+1$(构造2完全子图),对于同时属于集合$A_1,A_2$(构造3完全子图)则有下式:
$$
\begin{aligned}
|A_1\cap A_2|&=|A_1|+|A_2|-|A_1\cup A_2|\\
&\geq (p+1) + (p+1) - n\\
&\geq 2p +2 - n
\end{aligned}
$$
PS:由于$|A_1\cup A_2|$上界一定不超过n
以此类推对于构造四子图我们有下式:
$$
\begin{aligned}
|(A_1\cap A_2) \cap A_3|&=|A_1\cap A_2|+|A_3|-|(A_1\cap A_2)\cup A_3|\\
&\geq (2p+2-n) + (p+1) - n\\
&\geq 3p+3-2n
\end{aligned}
$$

一次类推我们有假设k个集合求交集$w(m)$我们有下式:
$$
w(m)=m*(p+1)-(m-1)n
$$
当w(k-1)>0时即表示至少能构造一个包含k完全子图的图.
将m=k-1带入可得原式>0,因此假设错误,原命题正确.

#### 定理 4.2.2
设集合中具有性质$P={P_1,P_2,...,P_m}$中恰好r个性质的元素个数为$N(P_1,P_2,...,P_r)$**注意这里的N跟下面的N不一样,我也不知道为什么书上使用相同的符号来代表**
记w(k)表示从集合$|S|$中恰好包含k个性质的**所有方案数**的和,且限定$w(0)=|S|$,如下式:
$$
w(k)=\sum_{1\leq i_1,\leq l_2\leq ... \leq i_k\leq m}N(P_{i_1},P_{i_2},...,P_{i_k})
$$

因此对于恰好有r个性质的元素个数N(r)有下式:
$$
N(r)=w(r)-\binom{r+1}{r}w(r+1)+\binom{r+2}{r}w(r+2)-...+(-1)^{m-r}\binom{m}{r}w(m)
$$
